---
typora-root-url: review_image
---

# 数字图像处理复习

------

## ch_2 Digital Image Fundamentals

### 1.人眼视觉原理

盲点：感光细胞非常少的区域

光敏细胞分为锥状细胞和杆状细胞。锥状细胞具有600-700万个，负责白昼视觉，分辨力强，色彩敏感度高；杆状细胞具有7600-15000万个，负责夜视觉，对低照度敏感。

![image-20230208174152726](.\image-20230208174152726.png)

眼球是由一系列曲率半径和折光指数均不同的折光体组成的折光系统。

Question：人眼不能无条件看清任何远处的物体，例如人眼可以看清楚月亮，却不能看清它表面的较大的阴影。

Answer：这是由于人眼眼球对物体的分辨能力并不是无穷大的，当物体离眼球足够远，物体在视网膜上成像过于小导致人无法分辨出来，这时便无法看出清晰的像了。并且若来自某物体的光线过弱，它到达视网膜时减弱到不足以兴奋感光细胞的程度，这样就不可能被感知。

Question：6米内的物体正常折射后成像位置将位于视网膜之后，因而看到的物象是模糊的，但正常眼睛在看近物时也看得十分清楚?

Answer：人眼的折射系统具有调节曲率半径等调节折射能力的功能。人眼主要通过调节晶状体的曲率半径来实现曲率的调节。

Question：根据凸透镜成像原理，物体在视网膜上成像理论上是倒立的像，但是为什么我们看到的物体是正的？

Answer：视网膜上感光细胞产生电脉冲兴奋后，这些数据会经过大脑皮层的处理后才形成我们的视觉，从倒立的像到正立的像是经过大脑皮层处理的结果。

人眼的灰度分辨能力为64级，当活动图像帧率大于15fps是，人眼才有图像连续的感觉。25fps人眼感受不到闪烁。

人眼所能感受的总体亮度范围为10的10次方数量级。但是，人眼同时可见别的动态范围很小，低照明下，亮度辨别力较差，人眼能分辨的亮度上下限之比为10：1。当照明增加时，亮度辨别较强，亮度上下限之比为1000：1。

低照明时杆状细胞工作，高照明时，锥状细胞工作。

对比灵敏度：人眼辨别光强变化的能力。韦伯比：$\delta I/I$ ，即表示在照射光强为I的前提下，光强照射光强增加$\delta I$人眼才能分辨出来光强度的变化。韦伯比大意味着亮度辨别能力差，韦伯比小意味着亮度辨别能力强。

![image-20230208191637234](.\image-20230208191637234.png)

亮度适应现象：人的视觉不能同时在一个范围内工作，而是利用改变局部灵敏度来实现大的动态范围内的变动。

在对应亮度适应等级下的人眼感知光强范围称为人的主观亮度感觉范围。

马赫带效应（Mach band effect）：当亮度发生跃变时，视觉上会感觉边缘亮侧更亮，暗侧更暗。图像轮廓的主管亮度对比度增强，又称边缘对比效应。

同时对比效应（Simultaneous Contrast）：眼睛对物体的主观亮度强烈依赖于物体自身的背景。

灰色物体周围为黑色背景，主管亮度增强；周围背景为亮，主管亮度会减弱。

空间分辨率：图像中可辩别的最小细节。采样间隔越小，像素级越多，空间分辨率越高。分辨率过低将会产生国际棋盘效应。

在医学影像中，如果采用过低的灰度分辨等级，便有可能导致假轮廓的出现，因此医学显示器的灰度分辨等级通常较高。

等偏爱曲线：在N（空间分辨率）-k（灰度分辨率）平面内对应于主观感觉质量相等的曲线。实验结果：图像中细节增加时，等偏爱曲线趋于更接近N-k平面内的垂线。

清晰度：由图像边缘灰度变化的速度来描述。

对比度：一幅图像中灰度反差的大小。

棋盘距离定义$D_8(p,q)=max(|x-s|,|y-t|)$

## ch3 Image Enhancement in the Spatial Domain

### 空间域图像增强分为点处理（灰度变换）与模板处理（滤波）。

图像的线性变换：曝光不足或过度时，图像灰度可能会局限在一个很小的范围，经过灰度拉伸线性变换后便可将灰度对比度拉大。

图像的对数变换：原图灰度动态范围过大，超出显示设备动态范围，需要经过对数变换后才能保留原图的细节。作用：低灰度区扩展，高灰度区压缩。

图像的幂次变换($s=cr^\gamma)$:$\gamma$<1，提高灰度级，使图像变量。

图像分段线性变换--对比度拉伸：将感兴趣的灰度范围线性扩展，相对抑制不感兴趣的灰度区域。

图像分段线性变换--位图切割：256灰度级由8个位平面组成。较高位包含大多视觉重要数据；较低位对图像的微小细节由作用，分解为位平面可以分析每一位在图像中的重要性。

### 直方图运算（必考）

直方图是反映一幅图像灰度级与该灰度级出现概率关系的图像。（横坐标为灰度级，纵坐标为灰度级的频率）（一幅图像对应唯一的直方图，不同的图像可能具有相同的直方图）

直方图均衡化：将原图像的直方图通过变换函数修正为均匀的直方图，然后按均衡直方图修正原图像。（图像均衡化后，各灰度级具有相同的出现频次，图像看起来会更清晰）

效果：增强像素灰度的动态范围，增强图像整体对比度。

通过累计分布函数可以实现直方图均衡化的变换。

![image-20230208202723931](.\image-20230208202723931.png)

直方图规定化：使原图像灰度直方图变成规定形状的直方图而对图像作修正的增强方法。（是对直方图均衡化处理的一种有效扩展；直方图均衡化是直方图规定化的一个特例）

直方图规定化步骤：1.对原始图像作直方图均衡化处理；2.按照希望得到的图像的灰度$p_z(z)$求得变换函数G(z)；3.用步骤1得到的灰度级s作逆变换$z=G^{-1}(s)$。

![image-20230208203348934](.\image-20230208203348934.png)

Question：应该如何去除加性噪声？

Answer：采用求均值的方式。

### 空间滤波：使用空间模板进行图像处理

空间滤波器：模板本身：模板、滤波器、核、掩膜、窗口

Question：为什么在空间域采用35*35的模板得到的结果会比采用3 * 3的模板来的模糊？

Answer：在空间域采用更大的模板，就意为着在频率域获得更小的频率通过范围，截止频率也就越低，而图像的细节是由高频成分所提供的，因此图像就更加模糊了。（频域的冲激对应着时域的无限延申；时域的冲激对应着频域的无限延申）

均值滤波器（线性滤波器）：作用：减小噪声；缺点：存在边缘模糊问题。

统计排序滤波器（非线性滤波器）：中值滤波器（去除椒盐噪声的利器）、最大值滤波器（去除椒噪声）、最小值滤波器（去除盐噪声）。

Question：为什么统计排序滤波器对比均值滤波器通常具有更良好的去噪性能？

Answer：因为图像添加的噪声通常均为非线性的，而统计排序滤波器便是非线性滤波器，因此通常具有更加良好的性能。

锐化滤波器：作用：加强图像轮廓，是图像看起来更清晰。图像平滑相当于积分过程，使图像变得更加模糊；微分能产生相反的效果，使图像边缘突出清晰。

锐化滤波器：二阶微分滤波器（拉普拉斯算子）、一阶微分滤波器（梯度算子）

![image-20230208205704277](.\image-20230208205704277.png)

![image-20230208205749745](.\image-20230208205749745.png)

一阶微分滤波器模板：Roberts交叉梯度算子、Prewitt梯度算子、Sobel梯度算子

![image-20230208205955301](.\image-20230208205955301.png)

![image-20230208210011983](.\image-20230208210011983.png)

![image-20230208210047075](.\image-20230208210047075.png)

## ch_4 Image Enhancement in the Frequency Domain

空间立方体滤波模板对应于频率域是两个垂直方向上的Sinc()函数的叠加。

在空间图像中，通常相位信息包含了整幅图像的绝大部分信息。

![image-20230208211411900](.\image-20230208211411900.png)

频率域幅度谱对图像的平移不具有敏感性，也就是图像进行上下左右平移过后频率谱不会发生变换。如果图像发生旋转，那么图像的频谱也会跟着旋转

频率域相位谱对图像的平移与旋转均具有敏感性。

Question：对图像进行水平切割后再将上下颠倒拼接起来，那么它的幅度谱与相位谱均不发生改变，这是为什么？

Answer：因为对图像做二维的傅里叶变换属于全局性质的变换，并非局部性的变换，因此上下切割颠倒不会改变幅度谱与相位谱。

相关操作的重要应用在于匹配：确定是否具有感兴趣的物体。f(x,y)是原始图像，h(x,y)作为感兴趣的物体或区域，如果二者匹配，那么两个函数的相关值会在h找到f中相应点的位置上达到最大。

### 频率域滤波

低频分量对应于平滑区域；高频分量对应细节，例如边界、噪声。

![image-20230208212755384](.\image-20230208212755384.png)

低通滤波器：用于图像平滑、模糊，例如均值滤波器；高通滤波器：用于边界增强，例如梯度算子、拉普拉斯算子；带通滤波器：用于图像复原。

陷波滤波器：

![image-20230208212946859](.\image-20230208212946859.png)

#### 频率域平滑滤波器

理想低通滤波器、巴特沃斯低通滤波器、高斯低通滤波器

三者从左到右截止频率依次增大，即高频截断性能逐渐减弱，但是，三者的振铃效应逐渐减弱，高斯低通滤波器基本不再具有振铃效应了。（振铃效应：即在理论上的阻带还会形成像水波纹一样的起伏）巴特沃斯低通滤波器的阶数越高，就越接近理想低通滤波器，同时它的振铃效应也就越明显。

Question：为什么采用理想低通滤波器进行滤波会出现振铃效应？

Answer：因为理想低通滤波器在频率域上呈现两个互相垂直方向的Sinc函数的叠加，因此它会出现振铃现象。

理想高通滤波器、巴特沃斯高通滤波器、高斯高通滤波器类似，但是要进行高频提升与高频加强，因为经过高通滤波器后，滤除了直流分量（平均灰度）。

#### 同态滤波

f(x,y)=i(x,y)r(x,y)该公式表明，接收图像的灰度由照射分量i(x,y)和反射分量r(x,y)合成的来。i(x,y)取决于发射源，r(x,y)取决于发射环境。采用该滤波方式的目的是：消除不均匀照度的影响而又不损失图像细节。

通常，照射分量的频谱落在低频区域，反射分量的频谱落在高频区域。通过照射分量与反射分量的分离，然后分别增强二者再进行图像的重建。

![image-20230208214820872](.\image-20230208214820872.png)

![image-20230208214934253](.\image-20230208214934253.png)

## ch_5 Image Restoration

图像恢复：使退化的图像复原本来面目。流程与关键：根据图像降质过程的某些先验知识，建立退化模型，运用与退化相反的过程，将退化图像复原。（即找退化原因->建立退化模型->反向推演->复原图像）

图像复原准则：要用某一客观标准来度量，即为某种准则下的最优估计。图像增强是一种主观行为，增强用户的主观感受即可。二者的相同点：改善给定图像的质量。

![image-20230208215551438](.\image-20230208215551438.png)

当退化仅由噪声引起时，我们可以通过空间滤波操作实现图像复原，例如使用均值滤波器、统计排序滤波器、自适应滤波器等。

几何均值滤波器：与算术均值滤波器相比会丢失更少的图像细节。

![image-20230208220436306](.\image-20230208220436306.png)

谐波均值滤波器：适用于盐噪声，不适用于椒噪声。

![image-20230208220518321](.\image-20230208220518321.png)

逆谐波均值滤波器，当Q<0适用于盐噪声，Q>0适用于椒噪声。

![image-20230208220557142](.\image-20230208220557142.png)

算术均值滤波器和几何均值滤波器适用于处理高斯、均匀随机噪声。逆谐波均值滤波器适合处理脉冲噪声。

统计排序滤波器中，Midpoint filter适用于高斯和均匀随机噪声，Alpha-trimmed mean filter适用于包含多种噪声的情况，例如高斯噪声和椒盐噪声混合的情况。

### 滤波复原的方法

逆滤波与维纳滤波（最小均方误差滤波）

#### 逆滤波

![image-20230208221307809](.\image-20230208221307809.png)

但是该复原方式具有一定缺点，对于无噪声情况下，当H(u,v)的值与G(u,v)的值同时为0，那么就无法确定当前频率点的值；对于有噪声情况下，当H(u,v)的值为0或者很小时，那么噪声将会被无限放大，这样就会导致对逆滤波复原的图像产生很大的影响，甚至面目全非。

解决方案：限制滤波器的频率，使其接近原点值，减少遇到零值的概率。

#### 维纳滤波

![image-20230208221627344](.\image-20230208221627344.png)

对于无噪声情况下，维纳滤波退化为逆滤波，处理白噪声时，噪声功率谱可以简化为一个常数。

## ch_7 Image Segmentation

### 基于边缘的分割

先检测不连续点，然后将点连接成边界

点检测方法：通过点检测模板，并设置模板相应阈值来检测孤立点。（类似于模板滤波）

线检测：一样采用模板滤波的方法，通过不同的模板来检测不同方向上的线。

#### 边界检测（一样可以采用边缘检测的各种算子）

![image-20230208222436592](.\image-20230208222436592.png)

Mar算子即在拉普拉斯算子进行边缘检测的基础上加上高斯型函数来对图像进行平滑处理。

一阶算子（Roberts算子、Prewitt算子、Sobel算子）用于检测图像中的一个点是否在边缘上。

二阶算子(Laplacian算子、Marr算子：用于确定边上的像素是在亮的一边还是暗的一边）Canny算子)

**![image-20230208223115784](.\image-20230208223115784.png)**

![image-20230208223216353](.\image-20230208223216353.png)

### 边缘连接和边界检测

局部处理：分析每个边缘点领域像素，根据某种准则将相似点进行连接，由满足该准则的像素连接形成边缘。

整体处理：通过Hough变换进行整体处理

方法：对于每两个边缘点可以构成一根直线y=ax+b，可以把xy平面的两个点转换成ab平面上的两根直线，对于每一个xy平面的边缘点都可以转换成ab平面的一根线，通过求线之间的交点即可以求出边缘直线的系数。

Hough变换基本思想：在参数ab平面上相交直线最多的点，对应的xy平面上的直线就是我们的解。

因为直线垂直时，a为无穷大，因此改用极坐标的形式。参数平面为$\theta,\rho$，对应不是直线而是正弦曲线。使用交点累加器找出相交线段最多的参数空间的点，最后找出该点对应的xy平面的直线线段。

Hough特点：受参数的量化精度影响较大，需要在量化精度与计算量之间抉择；Hough变换检测直线抗噪性能强，能将断开的边缘连接起来；此外Hough变换可以用来检测曲线。

#### 基于阈值的图像分割

类似于图像的二值化，具有全局阈值分割与局部阈值分割两种方式。

![image-20230208230117475](.\image-20230208230117475.png)

![image-20230208230311845](.\image-20230208230311845.png)

#### 区域分割方法：

![image-20230208231403809](.\image-20230208231403809.png)

## ch_8 Color Image Processing

![image-20230208231900142](.\image-20230208231900142.png)

色调与饱和度合称为色度。及说明彩色光的颜色类别，又说明颜色的深浅程度。色度再加上亮度，就能对颜色作完整的说明。

现今大部分系统RGB限制在256种颜色，其中有40种用各种操作系统进行不同的处理，仅留下216种颜色是各种系统通用的，因此这216种颜色又被称为安全彩色。216种彩色中每一种通道取值为0、51、102、153、204、255，这样6的三次方便组成了216中安全彩色。

HSI（色调、饱和度、亮度模型）